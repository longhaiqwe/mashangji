我明白了。之前的修复虽然清空了 UI 状态，但可能没有考虑到 `useEffect` 的执行时机和闭包陷阱，或者 `AddRecord` 组件本身没有被完全重置。

如果 `AddRecord` 组件一直挂载（比如在 Dashboard 视图中只是通过 `setShowImportModal` 控制弹窗），那么即使我们试图重置状态，如果重置逻辑被某些条件（如 `!isListening && !isAnalyzing`）拦截了，或者在某些状态变化时（如 `importText` 变化）又被重新赋值，就会导致问题。

**更彻底的修复方案**：

1.  **强制清理逻辑**：
    不要在 `useEffect` 里判断 `!isListening` 等条件，只要 `showImportModal` 变为 `true`，就**无条件**清空所有之前的输入内容。

2.  **清理 `useEffect` 依赖**：
    确保状态重置逻辑只在弹窗**刚刚打开**的那一刻执行一次。

3.  **修复 `AddRecord.tsx`**：
    修改 `useEffect` 逻辑如下：

```typescript
  // Auto-start voice if requested
  useEffect(() => {
    if (showImportModal) {
        // ALWAYS Reset state when opening modal, regardless of other states
        // But we need to be careful not to reset if the user is currently speaking 
        // (though opening modal usually means starting fresh)
        
        // Only reset if we are JUST opening it (we can't easily detect "just opened" in useEffect without a ref, 
        // but since showImportModal is the trigger, it should work).
        // However, to prevent infinite loops or resetting while typing, we should only reset if importText has value AND we are auto-starting OR it's a fresh open.
        
        // Actually, the simplest way is:
        // When modal opens, we want a clean slate.
        
        // But wait, if React re-renders, this effect runs again? No, only if dependency changes.
        // showImportModal changes from false -> true.
        
        // So this logic is safe:
        setImportText('');
        setTempTranscript('');
        setParsedResults([]);
        setLastImportText('');
        
        if (autoStartVoice) {
            // ... auto start logic
        }
    }
  }, [showImportModal]); // Removed autoStartVoice from dependency to avoid double-firing logic
```

**修正点**：
我之前的代码里 `useEffect` 依赖了 `[showImportModal, autoStartVoice]`。如果 `autoStartVoice` 发生变化，也会触发这个 effect，可能会导致意外的行为。最重要的是，之前的 `if (!isListening && !isAnalyzing)` 判断可能阻挡了重置（例如如果之前的状态清理不彻底，isListening 可能还是 true）。

**我将移除条件判断，并在 `showImportModal` 变为 true 时强制重置。**