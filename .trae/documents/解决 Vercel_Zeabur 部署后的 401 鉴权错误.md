这是一个典型的**环境变量配置问题**。

**问题分析：**

1. **现象**：本地正常，线上报 `401 Unauthorized`。
2. **原因**：`401` 错误表示请求已发送给硅基流动（SiliconFlow），但**API Key 被拒绝**。

   * 代码中有一行检查 `if (!key) throw ...`，既然没有报 "API Key is missing"，说明线上环境中 `VITE_SILICONFLOW_API_KEY` **确实存在（有值）**，但**值是错误的**。
3. **常见错误原因**：

   * **多余的引号**：在 Vercel/Zeabur 填入变量值时，如果手动加了引号（如 `"sk-..."`），引号会被当作 Key 的一部分，导致验证失败。

   * **空格**：复制时多复制了空格。

   * **未重新部署**：修改环境变量后，必须**重新构建（Redeploy）** 才会生效（因为 Vite 在构建时将变量打包进代码）。

**解决方案计划：**

1. **排查与修复（由你操作）**：

   * 检查 Vercel/Zeabur 的环境变量设置。

   * 确保 Key 的名称是 `VITE_SILICONFLOW_API_KEY`。

   * 确保 Value **没有引号**，没有首尾空格。

   * 修改后，点击 **Redeploy**。

2. **代码优化（由我执行）**：

   * 修改 `services/geminiService.ts`，增加调试日志，打印 Key 的前几位字符（掩码处理），方便你在浏览器控制台（F12）确认线上到底用了什么 Key。

   * 优化错误提示，当遇到 `401` 时，明确提示“API Key 无效”而不是通用的 HTTP Error。

**待执行的代码变更：**

* 编辑 `services/geminiService.ts`：

  * 添加 Key 的掩码日志输出。

  * 针对 401 状态码提供更友好的错误信息。

