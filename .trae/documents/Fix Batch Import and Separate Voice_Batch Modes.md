# 修复批量导入功能并拆分语音/批量模式

## 问题分析
1. **批量导入失效 Bug**：
   - 代码中“开始识别”按钮的点击事件直接绑定了 `handleAnalyze` 函数。
   - `handleAnalyze` 接受一个可选的字符串参数 `textOverride`。
   - 直接绑定导致点击事件对象（Event Object）被当作文本传递进去，导致识别失败。
2. **功能混淆**：
   - 目前批量导入和语音录入共用一个模态框，用户希望将两者明确分开。
   - 批量导入入口（✨图标）应只保留文本粘贴/识别功能，去除语音干扰。
   - 语音入口（长按+号）应专注于语音，不再支持批量导入（文本粘贴）。

## 实施计划

### 1. 修改 `components/AddRecord.tsx`

我们将引入一个模式状态 `importMode` 来控制界面显示。

- **状态管理**：
  - 新增 `importMode` 状态，取值为 `'batch'` (批量) 或 `'voice'` (语音)。
  - 初始化时，如果 `initialAutoStartVoice` 为真，则默认为 `'voice'` 模式，否则为 `'batch'` 模式。

- **修复 Bug**：
  - 将“开始识别”按钮的 `onClick` 事件从 `handleAnalyze` 改为 `() => handleAnalyze()`，确保不传递错误的参数。

- **界面拆分**：
  - **当处于 `batch` (批量导入) 模式时**：
    - 显示文本输入框（Textarea）。
    - **移除** 输入框右下角的麦克风按钮。
    - 仅保留“开始识别”和“重置”等文本操作按钮。
  - **当处于 `voice` (语音录入) 模式时**：
    - 界面专注于语音反馈（波纹动画或提示文本）。
    - **隐藏** 大段文本输入框（或将其设为只读/简化显示），避免用户在此处进行批量文本粘贴操作。
    - 确保语音识别结束后自动分析。

### 2. 入口逻辑确认
- 确认右上角的 ✨ 图标点击后，打开模态框并设置为 `batch` 模式。
- 确认金额输入框旁的 🎤 图标点击后，打开模态框并设置为 `voice` 模式。
- 确认底部导航栏长按 “+” 号进入时（由 `App.tsx` 控制），打开模态框并设置为 `voice` 模式。

通过以上修改，将彻底解决批量导入无反应的问题，并满足您对功能入口分离的需求。
